<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Gupta Coupons</title>

  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>

  <style>
    .step { display:none; }
    .step.active { display:block; }

    /* Hide step dots */
    #stepNav { display:none !important; }

    @media(min-width:900px){
      .step { display:block !important; }
    }
  </style>
</head>

<body>

<div class="container">

<header>
  <div class="brand">
    <div class="logo"></div>
    <div>
      <div class="title">Gupta Coupons</div>
      <div class="muted">Buy discount coupons. Pay via UPI QR.</div>
    </div>
  </div>
  <span class="badge">Coupon Shop</span>
</header>


<!-- -------------------------------------------------- -->
<!-- STEPS WRAPPER -->
<!-- -------------------------------------------------- -->
<div id="app-steps">


<!-- ========================= -->
<!-- STEP 1 – BUYER + COUPONS -->
<!-- ========================= -->
<section class="card step active" id="step1">

  <div class="section-title">Flipkart coupons</div>
  <div class="list" id="couponList"></div>

  <div class="divider"></div>

  <div class="section-title">Your details (optional)</div>

  <div class="row">
    <div>
      <label>Name</label>
      <input id="buyerName" placeholder="Your name" />
    </div>
    <div>
      <label>Phone</label>
      <input id="buyerPhone" placeholder="10-digit number" />
    </div>
  </div>

  <div style="margin-top:10px;">
    <label>Note (optional)</label>
    <textarea id="buyerNote" rows="2"></textarea>
  </div>

  <div class="divider"></div>

  <!-- PRICE SUMMARY -->
  <div id="priceSummary" class="summary">
    <div class="sum-row"><span>Subtotal</span><strong id="subtotal">₹0</strong></div>

    <div class="sum-row">
      <label style="display:flex;gap:8px;align-items:center;cursor:pointer;">
        <input type="checkbox" id="applyOffer" />
        <span>Apply 10% Off (100+ qty)</span>
      </label>
      <span id="offerStatus" class="muted" style="margin-left:auto;">Not eligible</span>
    </div>

    <div class="sum-row" id="discountRow" style="display:none;">
      <span>Discount</span><span id="discount">–₹0</span>
    </div>

    <div class="sum-row"><span>Platform fee</span><span id="fee">₹0</span></div>
    <div class="sum-row total"><span>Total to pay</span><span id="total">₹0</span></div>
  </div>

  <div style="display:flex;gap:10px;margin-top:12px;">
    <button class="btn btn-primary" id="makeOrder">Generate order</button>
    <button class="btn btn-outline" id="clearAll">Reset</button>
    <button class="btn btn-secondary" id="goPayment">Continue to payment</button>
  </div>

  <p class="notice" style="margin-top:8px;">
    After payment, click “Send on WhatsApp” and you will receive the codes automatically.
  </p>

</section>



<!-- ========================== -->
<!-- STEP 2 – PAYMENT + RECEIPT -->
<!-- ========================== -->
<section class="card step" id="step2">

  <div class="section-title">Pay by UPI QR</div>

  <div class="qr-wrap">
    <div class="qr"><img src="qr.png"></div>
    <div>
      <b>Scan & Pay</b>
      <div class="muted">UPI ID: <span id="upiId">paytmqr5i37ho@ptys</span></div>
    </div>
  </div>

  <div class="divider"></div>

  <!-- ORDER SUMMARY -->
  <div id="receipt">
    <h3 style="display:flex;justify-content:space-between;align-items:center;">
      <span>Order Summary</span>
      <span class="badge" id="orderStatus">Draft</span>
    </h3>
    <div id="receiptBody" class="muted">No items yet.</div>
  </div>

  <div class="divider"></div>

  <label>Enter UPI Txn / UTR ID</label>
  <input id="txnId" placeholder="Enter reference / UTR" />

  <button class="btn btn-primary" id="verifyPay" style="margin-top:10px;">
    Verify payment & show codes
  </button>

  <div id="payStatus" class="muted" style="margin-top:6px;"></div>

  <a class="btn btn-primary" id="shareWA" href="#" style="margin-top:12px;" target="_blank">
    Send on WhatsApp
  </a>

  <div style="margin-top:12px;">
    <button class="btn btn-outline" id="backToCart">Back</button>
    <button class="btn btn-secondary" id="goDelivered">Show delivered codes</button>
  </div>

</section>



<!-- ====================== -->
<!-- STEP 3 – DELIVERED -->
<!-- ====================== -->
<section class="card step" id="step3">
  <div class="section-title">Delivered Codes</div>
  <div id="deliveredCodes" class="muted">Codes will appear here.</div>

  <button class="btn btn-outline" id="backToPay" style="margin-top:12px;">
    Back to payment
  </button>
</section>



</div><!-- end steps -->


<footer>
  <div>© <span id="year"></span> Gupta Coupons</div>
</footer>

</div><!-- container -->


<script src="script.js"></script>

<script>
  // MOBILE STEP CONTROLLER
  function go(step){
    document.querySelectorAll('.step').forEach((s,i)=>{
      s.classList.toggle('active', i === step-1);
    });
    window.scrollTo({top:0,behavior:'smooth'});
  }

  go(1);

  document.getElementById('goPayment').onclick = ()=> go(2);
  document.getElementById('backToCart').onclick = ()=> go(1);
  document.getElementById('goDelivered').onclick = ()=> go(3);
  document.getElementById('backToPay').onclick = ()=> go(2);
</script>

</body>
</html>













